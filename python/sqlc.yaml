version: "2"
sql:
  - engine: "postgresql"
    queries: [ "*/queries.sql", "**/*/queries.sql" ]
    schema: "database/schema.sql"
    database: { uri: "postgresql://postgresql:password@localhost:40801/postgres" }
    rules: [ "sqlc/db-prepare" ]
    codegen: [ { out: ".", plugin: "py" }]
plugins:
  - name: "py"
    process: { cmd: "sqlc-gen-python" }
    env: [ "MONOREPO_ROOT", "PATH", "LD_LIBRARY_PATH", "PYTHONPATH", "VIRTUAL_ENV", "DATABASE_URI" ]
